# Backend Documentation
![ER Schema](images/ER%20schema.png)

## Users
### Model
The User model contains the following fields:
* `id` - The primary key of the user. This is auto-generated by mongoose.
* `username` - The username of the user. Multiple users can have the same username.
* `password` - The password of the user. This is hashed and salted using bcrypt.

We decided not to add an email field to the user model, as we felt that it was not necessary for the user to have an email to realize the full features of ConNexus, and we did not want to sacrifice the privacy of our users by requiring them to provide an email.

### Controller
We support the following endpoints for the user model:
TODO

## Contacts
### Model
The Contact model contains the following fields:
* `id` - The primary key of the contact. This is auto-generated by mongoose.
* `name` - The name of the contact.
* `additionalFields` - This is a Map of additional fields that the user can add to the contact. We support any custom fields that the user wants to add to the contact.

### Controller
We support the following endpoints for the contact model:
* 

The name and additionalFields of the contact are encrypted using AES-256. We use a master key to encrypt all the data in the database. 
A future improvement is to use a different key for each user, so that if a user's account is compromised, only their data is compromised. This however, required complex key management, which we did not have time to implement.

A sequence diagram of the creation, and lookup of a contact is shown below:
![Sequence Diagram](images/Sequence%20Diagram.png)